#Phython 
# Библиотеки для начинающих
### Подробное руководство по работе с библиотеками Python для начинающих

#### 1. Что такое библиотеки и зачем они нужны
**Библиотека (модуль)** - это набор готовых функций, классов и инструментов для решения специфических задач. Преимущества использования:
- Ускорение разработки
- Доступ к сложным алгоритмам
- Стандартизация кода
- Сообщество и поддержка

**Типы библиотек:**
1. Стандартные (входят в поставку Python)
2. Сторонние (устанавливаются отдельно)
3. Пользовательские (создаются разработчиком)

#### 2. Установка библиотек: pip и окружения
**pip** - стандартный менеджер пакетов Python.

```bash
# Установка последней версии
pip install имя_библиотеки

# Установка конкретной версии
pip install имя_библиотеки==1.2.3

# Обновление библиотеки
pip install --upgrade имя_библиотеки

# Удаление
pip uninstall имя_библиотеки

# Просмотр установленных пакетов
pip list

# Сохранение списка зависимостей
pip freeze > requirements.txt

# Установка из requirements.txt
pip install -r requirements.txt
```

**Виртуальные окружения** - изолированная среда для проектов:
```bash
# Создание окружения
python -m venv myenv

# Активация (Windows)
myenv\Scripts\activate

# Активация (Linux/macOS)
source myenv/bin/activate

# Деактивация
deactivate
```

#### 3. Основные библиотеки для начинающих

##### 3.1. Работа с данными: math, random, datetime
**math** - математические функции:
```python
import math

print(math.sqrt(25))      # 5.0
print(math.factorial(5))  # 120
print(math.pi)            # 3.141592653589793
print(math.sin(math.pi/2)) # 1.0
```

**random** - генерация случайных чисел:
```python
import random

# Случайное число в диапазоне
print(random.randint(1, 100))

# Случайный элемент последовательности
colors = ["red", "green", "blue"]
print(random.choice(colors))

# Перемешивание списка
cards = list(range(1, 11))
random.shuffle(cards)
print(cards)

# Генерация случайных чисел с плавающей точкой
print(random.random())        # [0, 1)
print(random.uniform(1.5, 5.5))
```

**datetime** - работа с датой и временем:
```python
from datetime import datetime, timedelta

# Текущая дата и время
now = datetime.now()
print(f"Сейчас: {now.strftime('%Y-%m-%d %H:%M')}")

# Разница времени
delta = timedelta(days=7)
next_week = now + delta
print(f"Через неделю: {next_week.date()}")

# Парсинг строки в дату
date_str = "2023-12-31"
new_year = datetime.strptime(date_str, "%Y-%m-%d")
print(f"До Нового года: {(new_year - now).days} дней")
```

##### 3.2. Визуализация: matplotlib
Установка: `pip install matplotlib`

```python
import matplotlib.pyplot as plt
import numpy as np

# Простой график
x = np.linspace(0, 10, 100)
y = np.sin(x)

plt.figure(figsize=(10, 6))
plt.plot(x, y, label='sin(x)', color='blue')
plt.title("График синуса")
plt.xlabel("X")
plt.ylabel("Y")
plt.grid(True)
plt.legend()
plt.savefig('sin_plot.png')  # Сохранение
plt.show()

# Гистограмма
data = [random.normalvariate(0, 1) for _ in range(1000)]
plt.hist(data, bins=30, alpha=0.7, color='green')
plt.title("Распределение случайных величин")
plt.show()
```

##### 3.3. Работа с файлами: pandas
Установка: `pip install pandas`

```python
import pandas as pd

# Создание DataFrame
data = {
    'Имя': ['Анна', 'Борис', 'Виктор'],
    'Возраст': [25, 30, 35],
    'Город': ['Москва', 'Санкт-Петербург', 'Казань']
}
df = pd.DataFrame(data)

# Сохранение в CSV
df.to_csv('people.csv', index=False)

# Чтение из CSV
df_from_file = pd.read_csv('people.csv')
print(df_from_file.head())

# Фильтрация
adults = df[df['Возраст'] >= 30]
print("Старше 30 лет:")
print(adults)

# Статистика
print("\nСтатистика:")
print(df.describe())
```

##### 3.4. Веб-запросы: requests
Установка: `pip install requests`

```python
import requests

# GET-запрос
response = requests.get('https://api.github.com')
print(f"Статус: {response.status_code}")
print(f"Заголовки: {response.headers['content-type']}")
print(f"Данные: {response.json()['current_user_url']}")

# POST-запрос с параметрами
data = {'username': 'test', 'password': 'secret'}
response = requests.post('https://httpbin.org/post', data=data)
print(response.json())

# Обработка ошибок
try:
    response = requests.get('https://example.com/404', timeout=3)
    response.raise_for_status()  # Проверка на ошибки HTTP
except requests.exceptions.HTTPError as errh:
    print(f"HTTP ошибка: {errh}")
except requests.exceptions.ConnectionError as errc:
    print(f"Ошибка соединения: {errc}")
except requests.exceptions.Timeout as errt:
    print(f"Таймаут: {errt}")
except requests.exceptions.RequestException as err:
    print(f"Ошибка запроса: {err}")
```

#### 4. Как искать и выбирать библиотеки
1. **Официальный репозиторий**: [pypi.org](https://pypi.org/)
2. **Поиск по категориям**: 
   - Машинное обучение: scikit-learn, TensorFlow, PyTorch
   - Веб-разработка: Django, Flask, FastAPI
   - Анализ данных: pandas, NumPy, SciPy
   - Визуализация: matplotlib, seaborn, plotly
3. **Критерии выбора**:
   - Активность разработки (GitHub stars, последний коммит)
   - Качество документации
   - Размер сообщества
   - Совместимость с версией Python

#### 5. Структура типичной библиотеки
```python
# Импорт модулей библиотеки
import library.module as lm
from library.subpackage import function

# Использование классов
obj = lm.ClassName(param=value)
result = obj.method()

# Использование функций
data = function(input_data)

# Работа с константами
print(lm.CONSTANT_VALUE)

# Обработка исключений
try:
    risky_operation()
except lm.CustomError as e:
    print(f"Ошибка: {e}")
```

#### 6. Лучшие практики работы с библиотеками
1. **Версионирование**: Фиксируйте версии в requirements.txt
2. **Документация**: Всегда читайте официальную документацию
3. **Виртуальные окружения**: Используйте для каждого проекта
4. **Импорты**: 
   - Избегайте `from module import *`
   - Используйте псевдонимы: `import pandas as pd`
5. **Обработка исключений**: Перехватывайте специфичные ошибки библиотек

### Домашнее задание (10 практических заданий)

**Задача 1: Генератор паролей**  
Напишите функцию, используя `random`, которая генерирует пароль:  
- Длина 12 символов  
- Буквы верхнего и нижнего регистра  
- Цифры  
- Спецсимволы (!@#$%^&*)  

**Задача 2: Анализ CSV файла**  
С помощью `pandas` проанализируйте файл данных (создайте или скачайте):  
- Загрузите CSV файл  
- Выведите первые 5 строк  
- Рассчитайте среднее, медиану для числовых столбцов  
- Постройте гистограмму для одного из столбцов  

**Задача 3: Калькулятор дат**  
Используя `datetime`, создайте программу, которая:  
- Принимает дату рождения  
- Рассчитывает возраст в годах, месяцах и днях  
- Выводит день недели рождения  
- Показывает сколько дней до следующего дня рождения  

**Задача 4: График функции**  
С помощью `matplotlib` постройте графики:  
- Квадратичной функции (x^2)  
- Синусоиды с разными амплитудами  
- Круговую диаграмму для категориальных данных  

**Задача 5: Погодный клиент**  
Используя `requests`, получите данные с открытого API погоды:  
- Зарегистрируйтесь на [openweathermap.org](https://openweathermap.org/api)  
- Получите текущую погоду для вашего города  
- Выведите температуру, влажность, описание  
- Рассчитайте "ощущаемую" температуру  

**Задача 6: Конвертер валют**  
Создайте конвертер валют с использованием API:  
- Используйте [exchangerate-api.com](https://www.exchangerate-api.com/)  
- Реализуйте конвертацию между USD, EUR, RUB  
- Кэшируйте курсы на 24 часа  

**Задача 7: Анализатор текста**  
Напишите программу, которая:  
- Принимает текстовый файл  
- Считает частоту слов (игнорируя регистр)  
- Сохраняет результаты в Excel (используйте `pandas`)  
- Строит топ-10 слов (используйте `matplotlib`)  

**Задача 8: Викторина по математике**  
Создайте игру, используя `random`:  
- Генерирует случайные математические примеры  
- Проверяет ответы пользователя  
- Ведеет счет правильных ответов  
- Сохраняет результаты в файл с датой (используйте `datetime`)  

**Задача 9: Мониторинг сайта**  
Напишите скрипт, который:  
- Проверяет доступность сайта каждые 5 минут  
- При недоступности отправляет уведомление (print)  
- Логирует все проверки в файл  
- Используйте `requests` и `datetime`  

**Задача 10: Персональный органайзер**  
Создайте программу с интерфейсом командной строки:  
- Добавление событий (дата, описание)  
- Просмотр событий на день/неделю/месяц  
- Уведомление о ближайших событиях  
- Используйте `datetime` и `sqlite3`  

### Ресурсы для изучения
1. **[Официальная документация Python](https://docs.python.org/3/)**
2. **[PyPI - репозиторий пакетов](https://pypi.org/)**
3. **[Matplotlib Tutorials](https://matplotlib.org/stable/tutorials/index.html)**
4. **[Pandas Documentation](https://pandas.pydata.org/docs/)**
5. **[Requests: HTTP for Humans](https://requests.readthedocs.io/)**
6. **[Real Python Tutorials](https://realpython.com/)**
7. **[Awesome Python](https://awesome-python.com/)**

### Пример решения задачи 1 (Генератор паролей)
```python
import random
import string

def generate_password(length=12, use_special=True):
    """Генератор безопасных паролей"""
    if length < 8:
        raise ValueError("Длина пароля должна быть не менее 8 символов")
    
    # Наборы символов
    lowercase = string.ascii_lowercase
    uppercase = string.ascii_uppercase
    digits = string.digits
    special = "!@#$%^&*"
    
    # Объединяем наборы
    all_chars = lowercase + uppercase + digits
    if use_special:
        all_chars += special
    
    # Гарантируем хотя бы один символ из каждого набора
    password = [
        random.choice(lowercase),
        random.choice(uppercase),
        random.choice(digits)
    ]
    
    if use_special:
        password.append(random.choice(special))
    
    # Добираем остаток длины
    password += random.choices(all_chars, k=length - len(password))
    
    # Перемешиваем результат
    random.shuffle(password)
    
    return ''.join(password)

# Генерация 5 паролей
for _ in range(5):
    print(generate_password())
```

### Пример решения задачи 5 (Погодный клиент)
```python
import requests
from datetime import datetime

def get_weather(api_key, city):
    """Получение данных о погоде"""
    base_url = "http://api.openweathermap.org/data/2.5/weather"
    params = {
        'q': city,
        'appid': api_key,
        'units': 'metric',
        'lang': 'ru'
    }
    
    try:
        response = requests.get(base_url, params=params, timeout=10)
        response.raise_for_status()
        data = response.json()
        
        if data['cod'] != 200:
            raise ValueError(f"Ошибка API: {data.get('message', 'Unknown')}")
        
        return {
            'city': data['name'],
            'temp': data['main']['temp'],
            'feels_like': data['main']['feels_like'],
            'humidity': data['main']['humidity'],
            'description': data['weather'][0]['description'],
            'wind_speed': data['wind']['speed'],
            'sunrise': datetime.fromtimestamp(data['sys']['sunrise']),
            'sunset': datetime.fromtimestamp(data['sys']['sunset'])
        }
    
    except requests.exceptions.RequestException as e:
        print(f"Ошибка сети: {e}")
        return None
    except (KeyError, ValueError) as e:
        print(f"Ошибка данных: {e}")
        return None

# Использование
API_KEY = "your_api_key"  # Замените на ваш ключ
weather = get_weather(API_KEY, "Moscow")

if weather:
    print(f"Погода в {weather['city']}:")
    print(f"Температура: {weather['temp']}°C (ощущается как {weather['feels_like']}°C)")
    print(f"Описание: {weather['description'].capitalize()}")
    print(f"Влажность: {weather['humidity']}%")
    print(f"Ветер: {weather['wind_speed']} м/с")
    print(f"Восход: {weather['sunrise'].strftime('%H:%M')}")
    print(f"Закат: {weather['sunset'].strftime('%H:%M')}")
```

### Пример решения задачи 9 (Мониторинг сайта)
```python
import requests
import time
from datetime import datetime

def monitor_website(url, interval=300, timeout=5):
    """Мониторинг доступности сайта"""
    print(f"Начало мониторинга {url} с интервалом {interval} секунд")
    
    while True:
        try:
            start_time = time.time()
            response = requests.get(url, timeout=timeout)
            status = "UP" if response.status_code == 200 else "DOWN"
            duration = time.time() - start_time
            
            log_entry = (
                f"{datetime.now().strftime('%Y-%m-%d %H:%M:%S')} | "
                f"Статус: {status} | "
                f"Код: {response.status_code} | "
                f"Время: {duration:.2f} сек"