# Методы поиска решений интеллектуальных задач
## Формальное определение задачи
### Компоненты задачи
Во многих задачах присутствует дискретное множество состояний, в которых может находиться определённый объект или система, с правилами и условиями перехода из одного состояния в другое. Подобные задачи могут быть формально определены с помощью четырёх компонентов:

- **Начальное состояние** - состояние, в котором система находится в начальный момент;
- **Функция определения преемника** - описание возможных переходов из одного состояния в другое
- Проверка цели - некоторый алгоритм, позволяющий определить, является ли данное состояние целевым;
- **Функция стоимости пути** - функция, назначающая каждой последовательности переходов между состояниями определённую стоимость. В простейшем случае стоимость цепочки переходов принимается равной количеству переходов в цепочке.

Альтернативное определение состояний включает проблемы поиска в пространстве 
- множество состояний;
- выделенное подмножество состояний, называемых начальным **состояниями**;
- для каждого состояния — **набор действий**, доступных агенту в этом состоянии;
- **функцию действия** (action function), которая для заданного состояния и действия, доступного в этом состоянии, возвращает новое состояние;
- множество **целевых** состояний, часто определяемое логической функцией goal (s), которая принимает истинное значение, когда - целевое состояние,
- критерий, определяющий качество приемлемого решения. Сюда могут входить ограничения на количество действий в решении, общую стоимость решения, требование оптимальности решения по числу или общей стоимости действий.
### Представление

Задача поиска в пространстве состояний формально представляется как кортеж S:

(S, A, Action(s), Result(s, a), Cost(s, a))
где
- S - множество возможных состояний
- А - множество возможных действий, не связанных с конкретным состоянием, а со всем пространством
- Action (s) - функция, определяющая, какие действия возможны в состоянии S
- Result(s, a) - функция, возвращающая состояние, достигнутое действием а в состоянии s
- Cost(s, a) стоимость выполнения действия а в состоянии s
### Граф пространства состояний

Пространство состояний может быть представлено в виде графа 
Определение графа пространства состояний включает в себя
- начальную вершину,
- множество целевых вершин и
- процедуру развёртывания вершины.

Большинство алгоритмических формулировок поиска на графах использует понятие **явного графа** (англ. explicit graph). Граф может быть представлен в виде матрицы смежности или списка смежности.
В алгоритмах поиска в пространстве состояний применяется понятие **неявного графа** (ангn. implicit graph). Отличие неявного графа от явно заданного графа состоит в том, что ребра графа не хранятся в памяти явно, а порождаются «на лету» (англ. оn-the-fly) в соответствии с правилами перехода между состояниями.

**Решением задачи** называется путь от начального состояния до целевого состояния.
**Оптимальным решением** называется решение, имеющее наименьшую стоимость среди всех прочих решений.
### Оценка алгоритма поиска
Качество алгоритма оценивается с помощью четырёх основных показателей:
- **Полнота** - свойство алгоритма всегда находить решение, если оно существует;
- **Оптимальность** - свойство алгоритма всегда находить решение с наименьшей стоимостью:
- **Временная сложность** - оценка времени работы алгоритма;
- **Пространственная сложность** - оценка объёма памяти, необходимого алгоритму.
### Методы поиска в пространстве состояний
делятся на информированные и неинформированные.

**Неинформированные методы** (методы слепого поиска, методы грубой силы) не используют никакой информации о конкретной задаче, кроме информации о том, как отличить целевое состояние от любого другого.
Алгоритмы этой группы последовательно порождают все возможные состояния, достижимые из исходного состояния до тех пор, пока не будет найдено целевое состояние (решение). Различия между методами неинформированного поиска сводятся к последовательности просмотра состояний.
**Информированные методы поиска** (эвристические методы) пользуются дополнительной информацией | о конкретной задаче. Дополнительная информация (эвристика) позволяет сократить перебор путём исключения заведомо бесперспективных вариантов. Такой подход ускоряет работу алгоритма по сравнению с полным перебором. Недостатком эвристических алгоритмов может быть отсутствие гарантии того, что выбрано правильное или наилучшее из всех возможных решение.

Сущность любой комбинаторной задачи можно сформулировать следующим образом:
«Найти на множестве X элемент х, удовлетворяющий совокупности условий К(х), в предположении, что пространство поиска X содержит некоторое конечное число различных точек».
Подобные ситуации возникают всегда, когда мы имеем дело с дискретными по природе элементами: логические головоломки; проблемы пополнения запасов на складе; выбор решения из множества возможных; выбор места расположения нового завода; прохождение пути по графу; доказательство теорем. Во всех этих случаях пространство поиска Х является конечным и дискретным. Последнее означает, что все точки Х отделены друг от друга. Именно при решении таких задач могут использоваться методы перебора.

Методы поиска решений в пространстве состояний начнем рассматривать с простой задачи о миссионерах и людоедах.
Три миссионера и три людоеда находятся на левом берегу реки и им нужно переправиться на правый берег, однако у них имеется только одна лодка, в которую могут сесть лишь 2 человека. Поэтому необходимо определить план, соблюдая который и курсируя несколько раз туда и обратно, можно переправить всех шестерых. Однако если на любом берегу реки число миссионеров будет меньше, чем число людоедов, то миссионеры будут съедены. Решения принимают миссионеры, людоеды их выполняют.

Основой метода являются следующие этапы.

1. Определяется конечное число состояний, одно из состояний принимается за начальное и одно или несколько состояний определяются как искомое (конечное, или терминальное). Обозначим состояние ѕ тройкой S= (x, y, 2), где х и у - число миссионеров и людоедов на левом берery, 2 = {L, R) - положение лодки на левом (1) или правом (R) берегах. Итак, начальное состояние S=(3,3, 1 ) и конечное (терминальное) состояние S= (0,0, R).
2. Заданы правила перехода между группами состояний. Введем понятие действия `М: [u, v],w`, где u - число миссионеров в лодке, v - число людоедов в лодке, w - направление движения лодки (в или ).
3. Для каждого состояния заданы определенные условия допустимости (оценки) состояний: $x >= y; 3-х >= 3-y; u+v <= 2.$
4. После этого из текущего (исходного) состояния строятся переходы в новые состояния. Два новых состояния следует сразу же вычеркнуть, так как они ведут к нарушению условий допустимости (миссионеры будут съедены).
5. При каждом переходе в новое состояние производится оценка на допустимость состояний и если при использовании правила перехода для текущего состояния получается недопустимое состояние, то производится возврат к тому предыдущему состоянию, из которого было достигнуто это текущее состояние. Эта процедура получила название бэктрекинг (bac tracing или **ВАСKTRACK**).

Теперь мы можем проанализировать полностью алгоритм простейшего поиска решений в проблемном пространстве, описанный группами состояний и переходами между состояниями. Решение задачи выделено жирными стрелками.

Такой метод поиска $So => Sk$ называется прямым методом поиска.
Поиск $Sk => Sо$ называют обратным поиском.
Поиск в двух направлениях одновременно называют двунаправленным поиском.
### Алгоритмы эвристического поиска
Кода при поиске решений число состояний невелико, перебор всех возможных состояний не вызывает затруднений. Однако при значительном числе состояний врмя поиска возрастает экспоненциально, и в этом случае могут помочь алгоритмы эвристического поиска, которые обладают высокой вероятностью правильного выбора решения.

**Эвристический алгоритм (эвристика)** — алгоритм решения задачи, включающий практический метод, не являющийся гарантированно точным или оптимальным, но достаточный для решения поставленной задачи. Позволяет ускорить решение задачи в тех случаях, когда точное решение не может быть найдено.

**Эвристический алгоритм** - это алгоритм решения задачи, правильность которого для всех возможных случаев не доказана, но про который известно, что он даёт достаточно хорошее решение в большинстве случаев. В действительности может быть даже известно (то есть доказано), что эвристический алгоритм формально неверен. Его всё равно можно применять, если при этом он даёт неверный результат только в отдельных, достаточно редких и хорошо выделяемых случаях или же даёт неточный, но всё же приемлемый результат.

Проще говоря, эвристика это не полностью математически обоснованный (или даже «не совсем корректный»), но при этом практически полезный алгоритм.
эвристика, в отличие от корректного алгоритма решения задачи, обладает следующими особенностями
1. Она не гарантирует нахождение лучшего решения
2. Она не гарантирует нахождение решения, даже если оно заведомо существует (возможен «пропуск цели»).
3. Она может дать неверное решение в некоторых случаях.

### Эвристический поиск
**Этап 1.** Выбрать на множества возможных действий некото рое действие.
**Этап 2.** Осуществить выбранное действие и изменить теку щую ситуацию.
**Этап 3.** Оценить ситуацию
**Этап 4.** Отбросить. бесполезные ситуации.
**Этап 5.** Если достигнута конечная ситуация комен: води нет, выбрать новую походную ситуацию и начать, сначала.

#### Этап 1. Выбор действия с учетом соответствия цели:
уменьшение некоторого нежелательного различия, непосредственное решение той или иной подзадачи, с учетом опыта: 
- повторение прошлого,
- обнаружение ключевого действия;
- с учетом необходимых условий:
- решение, обусловленное анализом ситуация, исключение неосуществимого Сарианта:
- с учетом фактора случайности: предпочтение отдается разнообразню.
#### Этап 3. Оценка ситуации
**по аналогии:**
- известна сама задача,
- известна подзадача:
**по величине расстояния до цели:**
- расстояние между двумя ситуациями,
- количество усилий, затрачиваемых на понск
**по математическому критерию:**
- составление перечня необходимых и/или достаточных для получе ния данного решения характеристик,
- численная оценочная функция,
- верхние и нижние границы,
- сумма стоимостей, выбранных подходящим способом:
**по ожидаемому выигрышу (критерий, связанный с прошлым опытом):**
- простота ситуации,
- коэффициент расширения поиска,
- любой другой критерий (сложность задачи, затрачиваемое на се решенке время и т.д).