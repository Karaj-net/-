#Моделирование_систем
17.02.2025

# Диаграмма классов UML
**Парадигма объектно-ориентированного программирования** (ОПП) повсеместно используется при создании современного программного обеспечения. Модель объектов, заложенная в данную парадигму, способна достаточно точно описывать свойства и возможности сущностей реального мира. Разумеется, эти объекты не существуют обособленно друг от друга, они взаимодействуют друг с другом для достижения какой-то глобальной цели разрабатываемой системы.

**Стандартная библиотека некоторого языка программирования** - замечательный сборник полезных утилит. Однако разнообразие решаемых программистами задач так велико, что одной только стандартной библиотекой ограничиться не получится. Программисту часто приходится самому создавать необходимый ему набор функциональности. Это можно сделать, создав пакет функций или набор классов. 

Создание собственных классов при разработке программы добавляет в проект новый уровень абстракции, который позволяет определить некоторый функционал системы и работать в дальнейшем только с ним.
![[Pasted image 20250217145008.png]]

Чем выше уровень абстракции, которым пользуется программист, тем выше уровень его продуктивности при разработке приложения.
> Хорошая абстракция превращает практически неподъемную задачу в две, решить которые вполне по силам. Первая из этих задач состоит в определении и реализации абстракции, а вторая - в использовании этих абстракций для решения текущей проблемы.
\- **Э.С. Таненбаум**

Использование ООП может существенно упросить жизнь программисту. Это достигается за счёт сокрытия особенностей внутренней реализации классов. Программисту остаётся лишь пользоваться её удобствами. Кажется, что ООП – панацея от всех проблем. Однако на практике, если не иметь чёткого представления о том, какие классы нужно реализовать и как ими потом пользоваться, в результате может получиться очень запутанная система, которая начнёт порождать спагетти-код, который будет лишь мешаться, когда вы захотите добавить что-то новое в систему.

### Назначение диаграммы классов
*Диаграмма классов* предназначена для представления внутренней структуры программы в виде классов и связей между ними.

Все сущности реального мира, с которыми собирается работать программист, должны быть представлены объектами классов в программе. При этом у каждого класса должно быть только одно назначение и уникально осмысленное имя, которое будет связано с этой целью.

*Класс* - элемент диаграммы, обозначающий множество объектов, обладающих одинаковой внутренней структурой, поведением и отношениями с объектами других классов. Изображается класс на диаграмме в виде прямоугольника, разделённого на три секции:
1) Имя классов
2) Список полей классов
3) Список методов классов

**Выбор терминологии**
![[Pasted image 20250217150148.png]]
Обязательным элементом класса является только его название.
Оранжевым цветом мы будем выделять обязательные части элементов.
![[Pasted image 20250217150413.png]]
Пример класса "Покупатель". У покупателя есть баланс (balance) денег и список желаемого (wishList). Пользователь может пополнять баланс на некоторую сумму денег (topUpBalance()), может совершать покупки (makePurchase()) и может добавлять товары в список желаемого (appendToWishList()). Также мы можем проверить, подтверждена ли электронная почта пользователя.

Обычно в качестве имени класса выбирается существительное в единственном числе. Разумеется, это имя должно быть уникальным в пределах диаграммы. Если имя класса состоит из нескольких слов, мы, по практическим соображениям, будем записывать их слитно в верблюжьем стиле (от англ. "CamelCase").

##### Рекомендация по именованию классов
![[Pasted image 20250217235825.png]]

#### Статический класс
Класс, в котором есть только статические поля и методы и на основе которого не создаются объекты (экземпляры), называется статическим классом. Чтобы показать на диаграмме, что наш класс статический, нужно добавить к имени модификатор «utility». 

Формально, такие модификаторы называется стереотипами. Стереотип – именованный набор свойств. В данном случае, стереотип «utility» означает, что объекты указанного класса не создаются. 

По сути, название модификатора «utility» связано с тем, статический класс предоставляет набор утилит, которые могут быть использованы любыми классами, которые в них нуждаются.

#### Абстрактный класс
Класс, который является базовым для других классов и объекты которого мы не собираемся создавать, называют абстрактным. Абстрактный класс на диаграмме изображается так же, как и обычной класс, однако имя такого класса должно быть записано курсивом.
![[Pasted image 20250218000358.png]]
В UML принято соглашение, согласно которому все элементы, относящиеся к абстрактному классу, должны быть помечены курсивом (жирный шрифт при этом сохраняется).

#### Поля класса
Вернёмся к нашему примеру с классом Customer. Обратите внимание на центральную секцию.
![[Pasted image 20250218001807.png]]

Давайте рассмотрим первую строчку.
![[Pasted image 20250218001846.png]]
В общем случае, каждое поле класса должно описываться следующим образом:
![[Pasted image 20250218001922.png]]

#### Общий вид поля класса
Уровень видимости (от англ. "visibility") - свойство поля, которое показывает, из какой части программы можно обратиться к данному полю.
![[Pasted image 20250218002228.png]]
**В нашем случае, поле balance - закрытое**

**Обычно может принимать следующие значения:**
- *"+"* - открытое поле. Аналог **public** в языках программирования. Означает, что к полю можно обратиться из любой части программы.
- *"-"* - закрытое поле. Аналог **private** в языках программирования. Означает, что получить доступ к полю можно только внутри класса.
- *"#"* - защищённое поле. Аналог **protected** в языках программирования. Означает, что получить доступ к полю можно внутри класса и внутри производных классов.

*Идентификатор* (от англ. "identificator") - **название поля**. Является обязательным элементом для описания переменной на диаграмме классов, поскольку однозначно её определяет (все идентификаторы на диаграммах уникальны).
![[Pasted image 20250218004009.png]]

*Тип поля* (англ. "type of field") *показывает, какой тип имеет данное поле в нашей программе.* На ранней стадии проектирования можно и не уточнять, какой тип имеет то или иное поле.
![[Pasted image 20250218004250.png]]

Типы полей обычно привязаны к какому-то конкретному языку программирования, например. Кроме того, в качестве типа поля может быть использован пользовательский тип данных.

*Кратность* (от англ. "multiplicity") – **интервал, определяющий диапазон количества элементов в массиве.** Если для поля указана кратность, то его следует считать массивом. Количество элементов в таком массиве и будет определяться указанным интервалом.
![[Pasted image 20250218004804.png]]

**Список желаемого** - это массив, который может либо быть пустым, либо может хранить неограниченное число товаров. Пояснение к использованию кратности

**Для кратности указывают одно или два значения:**
- **[m..n]** - интервал от m до n включительно (m <= n). Такая запись будет означать, что в коллекции может храниться от m до n значений включительно.
- **[n]** – интервал, который можно рассматривать, как сокращённую запись **[0..n]**.

Может случиться так, что мы захотим показать, что в массиве может храниться неограниченное количество элементов. В таком случае верхняя граница n заменяется символом * .

**Примеры интервалов:**
- **[1]** - ровно один объект. То же самое, что и интервал **[1..1]**.
- **[0..1]** - ноль или один объект.
- **[0..* ]** - ноль или неограниченное количество объектов. Часто такой интервал обозначают просто как **[ * ]**.
- **[1..* ]** - один или неограниченное количество объектов.

Наиболее часто используют кратность **[0..* ]** или **[1..* ]**. Можно заметить, что динамические структуры данных вообще очень удобны в использовании.

Чтобы отличать статические элементы класса от обычных, статические поля и методы будут подчёркиваться.

#### Методы класса
Снова разберём наш пример с классом **Customer**. На этот раз обратим внимание на третью секцию - секцию методов.
![[Pasted image 20250218012412.png]]

Описание методов очень похоже на описание полей класса. На рисунке ниже представлен общий вид описания метода класса.
![[Pasted image 20250218012447.png]]

**Аргументы методов в общем случае описываются следующим образом:**
![[Pasted image 20250218012817.png]]
В случае, если у метода есть несколько аргументов, они указываются в скобках через запятую в указанном формате.